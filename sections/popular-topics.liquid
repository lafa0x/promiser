{%- if section.settings.title != blank -%}
    <h2 class="section-header__title h4">{{ section.settings.title | escape }}</h2>
{%- endif -%}

{%- if section.settings.sub_title != blank -%}
    <h3 class="section-header__title">{{ section.settings.sub_title | escape }}</h3>
{%- endif -%}

<!-- {%- for block in section.blocks -%}

  {% if block.settings.image != blank %}
      {%- render 'lazy-image', image: block.settings.image, alt: block.settings.heading -%}
  {%- endif -%}
  {% if block.settings.heading != blank %}
      {{ block.settings.heading | escape }}
  {%- endif -%}

{%- endfor -%} -->


<div id="css-slider-{{ section.id }}" class="css-slider css-slider--snapping blog-slider" data-navigation-class="ten-tenths lap--twelve-tenths push-left-one-tenth lap--push-left-padding">
    <div class="blog-slider__images css-slides-container grid push-right-half-tenth lap--push-right-padding">
        {%- for block in section.blocks -%}
          <a href="{{ article.url | escape }}" class="blog-item__image css-slide
              three-tenths lap--smart-width palm--smart-width 
              {% if forloop.first %}
                push-left-one-tenth
              {% else %}
                push-left-half-tenth
              {% endif %} 
            lap--push-left-padding
          "> 
            {%- if block.settings.image != blank -%}
              {%- render 'lazy-image', image: block.settings.image, alt: block.settings.heading -%}
            {%- else -%}
              <span class="onboarding-svg section--image-text--item__image onboarding-background">
                {{ 'image' | placeholder_svg_tag }}
              </span>
            {%- endif -%}

            {% if block.settings.heading != blank %}
                {{ block.settings.heading | escape }}
            {%- endif -%}
          </a>
        {%- endfor -%}
    </div>  
</div>

{%- unless section.settings.button_label == blank -%}
  <div class="slide-button__holder hide palm--show-inline" style="width:100%">
    <a class="slide-button button button--underline" href="{{ section.settings.button_link }}" title="{{ section.settings.button_label | escape }}">{{ section.settings.button_label | escape }}<span class="svg svg__arrow" aria-hidden="true">{% render 'theme-symbols', icon: 'arrow-right' %}</span></a>
  </div>
{%- endunless -%}


{% schema %}
  {
    "name": "Popular Topics",
    "class": "mount-parallax section-w-mobile-padding section-w-margin",
    "max_blocks": 10,
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "sub_title",
        "label": "Sub Heading"
      },
	  {
        "type": "text",
        "id": "button_label",
        "label": "Button Text"
      },
	  {
        "type": "url",
        "id": "button_link",
        "label": "Button URL"
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Write your Story"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Popular Topics",
        "category": "Image",
        "blocks": [
          {
            "type": "image"
          },
          {
            "type": "image"
          },
          {
            "type": "image"
          }
        ]
      }
    ]
  }
{% endschema %}